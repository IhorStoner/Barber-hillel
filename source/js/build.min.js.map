{"version":3,"sources":["getResourse.js","createElement.js","showSearch.js","showFilter.js","basketArr.js","showBasket.js","function.js","app.js"],"names":["getResource","async","url","res","fetch","ok","Error","status","json","createElement","attrs","styles","handlers","data","type","forAttr","text","html","className","id","parent","element","document","attr","style","handler","addEventListener","bind","forEach","items","setAttribute","key","value","innerText","innerHTML","appendChild","showSearch","parentShop","querySelector","shopContent","shopSearchButton","placeholder","filtersRadioData","getBrandName","arrProduct","dataUnique","Map","item","set","brand","showFilter","flexContainerElem","querySelectorAll","selectedCategoryName","event","target","getAttribute","then","dataArr","createFilter","category","parentElem","filterCheck","remove","filtersElem","filtersHeaderElem","filtersContentElem","filtersBlockElem","filtersBlockTitle","chooseFilterElem","name","filterPriceElem","filterRadio","indexOf","labelFiltrRadio","textFiltrRadio","btnOkElem","handleCheckFilter","checkboxSelectedArr","filterArr","checked","push","dataCategory","brandName","radio","length","sort","product1","product2","Number","price","reverse","createCards","basketArr","showBasket","basketBtn","getElementById","handleShowBasket","start","firstResponse","handlerNavLink","window","showProducts","e","arr","checkCards","shopCards","classList","add","createCard","productCard","img","width","handlerProductItem","tagName","selectedProductId","parentNode","selectedProduct","find","showDetailInfo","descriptions"],"mappings":"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","file":"build.min.js","sourcesContent":["//асинхронный запрос, нужно установить json-server\nconst getResource = async (url) => {\n    const res = await fetch(`http://localhost:3000/${url}`);\n\n    if (!res.ok) {\n        throw new Error(`Could not fetch http://localhost:3000/presents/${url}, status ${res.status}`);\n    }\n    return await res.json();\n};","\"use strict\";\n\nconst createElement = function ({\n    attrs = {},\n    styles = {},\n    handlers = {},\n    data = [],\n    type = \"div\",\n    forAttr,\n    text,\n    html,\n    className,\n    id,\n    parent,\n  }) {\n    const element = document.createElement(type);\n  \n    for (const attr in attrs) {\n      element[attr] = attrs[attr];\n    }\n  \n    for (const style in styles) {\n      element.style[style] = styles[style];\n    }\n  \n    for (const handler in handlers) {\n      element.addEventListener(handler, handlers[handler].bind(element));\n    }\n  \n    data.forEach((items) => {\n      element.setAttribute(items.key, items.value);\n    });\n  \n    if (forAttr) element.setAttribute('for', forAttr);\n    if (id) element.id = id;\n    if (className) element.className = className;\n    if (text) element.innerText = text;\n    if (html) element.innerHTML = html;\n    if (parent) parent.appendChild(element);\n    return element;\n  };","\"use strict\";\n\nfunction showSearch() {\n    const parentShop = document.querySelector('.shop-search-container');\n\n    parentShop.innerHTML = ' ';\n\n    const shopSearchContent = {\n        type: \"div\",\n        className: 'shop__search-container',\n        id: 'search-container',\n        parent: parentShop,\n    }\n    const shopContent = createElement(shopSearchContent);\n\n    const shopSearchInput = {\n        attrs: {placeholder: 'Search something you need...',},\n        type: \"input\",\n        className: 'shop__search-item',\n        id: 'input-search',\n        parent: shopContent,\n    }\n    const shopSearchButton = {\n        text: 'search',\n        type: \"button\",\n        className: 'btn btn--orange shop__search-btn',\n        id: 'btn-search',\n        parent: shopContent,\n    }\n\n    createElement(shopSearchInput);\n    createElement(shopSearchButton);\n}","\"use strict\";\r\n\r\nconst filtersRadioData = [\r\n    {value: 'from expensive to cheap'},\r\n    {value: 'from cheap to expensive'},\r\n]\r\n\r\nfunction getBrandName(arrProduct) {\r\n    const dataUnique = new Map();\r\n\r\n    arrProduct.forEach((item) => dataUnique.set(item.brand,item.brand));\r\n    return dataUnique;\r\n}\r\n\r\nfunction showFilter() {\r\n    const flexContainerElem = document.querySelector('.shop__flex-container');\r\n    const navLink = document.querySelectorAll('.header .nav__link');\r\n\r\n    navLink.forEach(item => item.addEventListener('click',() => {\r\n        const selectedCategoryName = event.target.getAttribute('data-category');\r\n        getResource(selectedCategoryName)\r\n            .then(dataArr => createFilter(dataArr, flexContainerElem));\r\n    }))\r\n\r\n    // window.addEventListener(\"DOMContentLoaded\", () => {\r\n    //     getResource(firstResponse)\r\n    //         .then(data => createFilter(data, flexContainerElem));\r\n    // });\r\n}\r\n\r\nfunction createFilter(category, parentElem) {\r\n    const filterCheck = document.querySelector('.filters');\r\n    if(filterCheck) {\r\n        filterCheck.remove();\r\n    }\r\n\r\n    const filters = {\r\n        type: \"aside\",\r\n        className: 'filters',\r\n        id: 'filters',\r\n        parent: parentElem,\r\n    }\r\n    const filtersElem = createElement(filters);\r\n\r\n    const  filtersHeader = {\r\n        type: \"div\",\r\n        className: 'filters__header',\r\n        parent: filtersElem,\r\n    }\r\n    const filtersHeaderElem = createElement(filtersHeader);\r\n\r\n    const filtersTitle = {\r\n        type: \"h2\",\r\n        className: 'shop__title',\r\n        text: 'Filters',\r\n        parent: filtersHeaderElem,\r\n    }\r\n    createElement(filtersTitle);\r\n\r\n    const filtersContent = {\r\n        type: \"div\",\r\n        className: 'filters__content',\r\n        parent: filtersElem,\r\n    }\r\n    const filtersContentElem = createElement(filtersContent);\r\n\r\n    const filtersBlock = {\r\n        type: \"div\",\r\n        className: 'filters__block',\r\n        parent: filtersContentElem,\r\n    }\r\n    const filtersBlockElem = createElement(filtersBlock);\r\n\r\n    const filtersBlockTitle = {\r\n        type: \"h2\",\r\n        text: \"Choose something\",\r\n        className: 'filters__title',\r\n        parent: filtersBlockElem,\r\n    }\r\n    createElement(filtersBlockTitle);\r\n\r\n    //create checkbox\r\n    const unqieBrandNameArr = getBrandName(category);\r\n\r\n    unqieBrandNameArr.forEach(function(item) {\r\n        const chooseFilter = {\r\n            type: \"div\",\r\n            className: 'choose-service__item filters__item',\r\n            parent: filtersBlockElem,\r\n        }\r\n        const chooseFilterElem = createElement(chooseFilter);\r\n    \r\n        const filterInput1 = {\r\n            type: \"input\",\r\n            attrs: {name: item,type: 'checkbox',},\r\n            id: item,\r\n            className: 'choose-service__input',\r\n            parent: chooseFilterElem,\r\n        }\r\n        createElement(filterInput1);\r\n    \r\n        const labelFiltr1 = {\r\n            type: \"label\",\r\n            forAttr: item,\r\n            className: 'choose-service__checkbox',\r\n            parent: chooseFilterElem,\r\n        }\r\n        createElement(labelFiltr1);\r\n    \r\n        const textFiltr1 = {\r\n            type: \"label\",\r\n            forAttr: item,\r\n            className: 'choose-master__text',\r\n            text: item,\r\n            parent: chooseFilterElem,\r\n        }\r\n        createElement(textFiltr1);\r\n    })\r\n\r\n    \r\n    // filter radio title\r\n    createElement(filtersBlockTitle);\r\n\r\n    // filter radio create\r\n    filtersRadioData.forEach(function(item) {\r\n        const filterPrice = {\r\n            type: \"div\",\r\n            className: 'choose-service__item filters__item',\r\n            parent: filtersBlockElem,\r\n        }\r\n        const filterPriceElem = createElement(filterPrice);\r\n    \r\n        const filterRadio = {\r\n            type: \"input\",\r\n            attrs: {name: `choose-master__item`,type: 'radio'},\r\n            id: `filter-${filtersRadioData.indexOf(item)}`,\r\n            className: 'choose-master__radio',\r\n            parent: filterPriceElem,\r\n        }\r\n        createElement(filterRadio);\r\n    \r\n        const labelFiltrRadio = {\r\n            type: \"label\",\r\n            forAttr: `filter-${filtersRadioData.indexOf(item)}`,\r\n            className: 'choose-master__label',\r\n            parent: filterPriceElem,\r\n        }\r\n        createElement(labelFiltrRadio);\r\n    \r\n        const textFiltrRadio = {\r\n            type: \"label\",\r\n            forAttr: `filter-${filtersRadioData.indexOf(item)}`,\r\n            className: 'choose-master__text',\r\n            text: item.value, \r\n            parent: filterPriceElem,\r\n        }\r\n\r\n        createElement(textFiltrRadio);\r\n    })\r\n\r\n    // btn submit\r\n    const btnOkContainer = {\r\n        type: \"div\",\r\n        className: 'filters__btn-submit', \r\n        parent: filtersElem,\r\n    }\r\n\r\n    const btnOkElem = createElement(btnOkContainer);\r\n\r\n    const btnOk = {\r\n        type: \"button\",\r\n        className: 'btn btn--black',\r\n        id: 'btnShowFilter',\r\n        text: 'SHOW',\r\n        parent: btnOkElem,\r\n    }\r\n\r\n    const btnSubmitFilter = createElement(btnOk);\r\n    btnSubmitFilter.addEventListener('click',handleCheckFilter)\r\n}\r\n\r\nfunction handleCheckFilter() {\r\n    const checkboxSelectedArr = document.querySelectorAll('.choose-service__input');\r\n    const parent = document.querySelector(`.shop__flex-container`);\r\n    \r\n    const cardsContainer = document.querySelector('.shop__cards');\r\n    const category = cardsContainer.getAttribute('id');\r\n\r\n    const filterArr = [];\r\n\r\n    checkboxSelectedArr.forEach((item) => {\r\n        if(item.checked) {\r\n            filterArr.push(item.name);\r\n        }\r\n    })\r\n\r\n    //filter lohika\r\n    getResource(category)\r\n        .then(data => {\r\n            const dataCategory = [];\r\n\r\n            data.forEach((item) => {\r\n                //checkbox\r\n                filterArr.forEach((brandName) => {\r\n                    if(item.brand === brandName) {\r\n                        dataCategory.push(item);\r\n                    } \r\n                })\r\n            })\r\n\r\n            // сортировка\r\n            //filter radio \r\n            const radioCheckArr = document.querySelectorAll('.choose-master__radio');\r\n            radioCheckArr.forEach((radio) => {\r\n                if(radio.checked && radio.id === 'filter-0' ) {\r\n                    if(dataCategory.length === 0) {\r\n                    //exp to cheap\r\n                        data.sort((product1, product2) => Number(product1.price) > Number(product2.price) ? 1 : -1);\r\n                        data.reverse();\r\n                        createCards(data, parent, category);\r\n                    } else {\r\n                        dataCategory.sort((product1, product2) => Number(product1.price) > Number(product2.price) ? 1 : -1);\r\n                        dataCategory.reverse();\r\n                        createCards(dataCategory, parent, category); \r\n                    }\r\n\r\n                } else if(radio.checked && radio.id === 'filter-1') {\r\n                    //cheap to exp\r\n                    if(dataCategory.length === 0) {\r\n                        data.sort((product1, product2) => Number(product1.price) > Number(product2.price) ? 1 : -1);\r\n                        createCards(data, parent, category); \r\n                    } else {\r\n                        dataCategory.sort((product1, product2) => Number(product1.price) > Number(product2.price) ? 1 : -1);\r\n                        createCards(dataCategory, parent, category);\r\n                    }                   \r\n                } else {\r\n                    if(dataCategory !== 0 ){\r\n                        createCards(dataCategory, parent, category);\r\n                    } else {\r\n                        createCards(data, parent, category); \r\n                    }\r\n                }\r\n            })\r\n        });\r\n}","const basketArr = [];","function showBasket() {\r\n    const basketBtn = document.getElementById('basketBtn');\r\n    const basketCounter = document.getElementById('basketCounter');\r\n\r\n    basketCounter.innerText = basketArr.length;\r\n\r\n    basketBtn.addEventListener('click', handleShowBasket);\r\n}\r\n\r\nfunction handleShowBasket() {\r\n    const shopContent = document.querySelector('.shop-content');\r\n    shopContent.innerHTML = '';\r\n}","\"use strict\";\r\n\r\nconst start = () => {\r\n    const parent = document.querySelector(`.shop__flex-container`);\r\n\r\n    const firstResponse = document.querySelector(`.header .nav__link`).getAttribute(`data-category`);\r\n\r\n    handlerNavLink();\r\n    showSearch();\r\n\r\n    //загрузка бритвы и лезвия как main page \r\n\r\n    window.addEventListener(\"DOMContentLoaded\", () => {\r\n        getResource(firstResponse)\r\n        .then(data => createFilter(data, parent));\r\n\r\n        getResource(firstResponse)\r\n        .then(data => createCards(data, parent, firstResponse));\r\n    });\r\n}\r\n\r\n//addEventListener для линков\r\nconst handlerNavLink = () => {\r\n    const link = document.querySelectorAll(`.header .nav .nav__link`);\r\n    link.forEach(item => item.addEventListener(`click`, showProducts))\r\n};\r\n\r\n//показываем продукты\r\nconst showProducts = (e) => {\r\n    const parent = document.querySelector(`.shop__flex-container`);\r\n    parent.innerHTML = ' ';\r\n\r\n    const target = e.target;\r\n    //ищем категорию на которую нажали\r\n    const category = target.getAttribute(`data-category`);\r\n    //запрашиваем данные с сервера через category \r\n    getResource(category)\r\n        .then(data => {\r\n            createFilter(data, parent)\r\n            createCards(data, parent, category)\r\n        })\r\n}\r\n\r\n//Создаём картки для наших товаров\r\nconst createCards = (arr, parent, category) => {\r\n    //удаляем парент при нажатии\r\n    const checkCards = document.querySelector('.shop__cards');\r\n    if(checkCards) {\r\n        checkCards.remove();\r\n    }\r\n\r\n    const shopCards = document.createElement(`div`);\r\n    shopCards.classList.add(`shop__cards`);\r\n    shopCards.id = category;\r\n    parent.appendChild(shopCards);\r\n\r\n    arr.forEach(item => {\r\n        createCard(item, shopCards, arr);\r\n    });\r\n}\r\n\r\nconst createCard = (item, parent, arr) => {\r\n\r\n    const productCard = document.createElement(`div`);\r\n\r\n    productCard.classList.add(`product`);\r\n\r\n    productCard.innerHTML = `\r\n\r\n        <div class=\"product__img-container\" data-id=${item.id}>\r\n                <img src=\"${item.img}\" alt=\"\" class=\"product__img\">\r\n        </div>\r\n        <div class=\"product__content\" data-id=${item.id}>\r\n                <h3 class=\"product__title\">\r\n                    ${item.name}\r\n                </h3>\r\n                <p class=\"product__price\">\r\n                    ${item.price}$\r\n                </p>\r\n                <div class=\"product__buttons\">\r\n                    <button class=\"btn btn--black\">Shop now</button>\r\n                    <button class=\"btn btn--plus\"></button>\r\n                </div>\r\n`;\r\n    parent.appendChild(productCard);\r\n\r\n    //исправить !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n    document.querySelectorAll(`.product__img`).forEach(item => { item.style.width = `100%` });\r\n\r\n    productCard.addEventListener(`click`, handlerProductItem.bind(null, arr))\r\n\r\n}\r\n\r\n//нажатие на товар, переход на детальную информацию о товаре\r\nconst handlerProductItem = (arr, event) => {\r\n    const target = event.target;\r\n\r\n    //handler на элементы которые не будут нас переносить на 2 страницу \r\n    if (target.tagName === `BUTTON` || target.className === `product` || target.className === `product__img-container` || target.className === `product__content`) {\r\n        return;\r\n    }\r\n\r\n    const selectedProductId = target.parentNode.getAttribute(`data-id`);\r\n\r\n    const selectedProduct = arr.find((element) => {\r\n        return element.id === Number(selectedProductId);\r\n    });\r\n\r\n    showDetailInfo(selectedProduct);\r\n}\r\n\r\n\r\n//отображение страници с товаром\r\nconst showDetailInfo = (item) => {\r\n\r\n    document.querySelector(`.shop .wrapper .shop-content .shop__flex-container`).innerHTML = ``;\r\n    const parent = document.querySelector(`.shop__flex-container`);\r\n    const productCard = document.createElement(`div`);\r\n\r\n    productCard.classList.add(`product-info`);\r\n\r\n    productCard.innerHTML = `\r\n    <div class=\"product-info__img\">\r\n        <img src=${item.img} alt=\"product img\"/>\r\n    </div>\r\n    <div class=\"product-info__info\">\r\n        <div class=\"product-info__link-container\">\r\n            <a class=\"product-info__link product-info__link--active\">Описание</a>\r\n            <a class=\"product-info__link\">Отзывы</a>\r\n        </div>\r\n        <div class=\"product-info__title-container\">\r\n            <h2 class=\"product-info__title\">${item.name}</h2>\r\n            <p class=\"product-info__description\">${item.descriptions}</p>\r\n        </div>\r\n        <div class=\"product-info__price-container\">\r\n            <p class=\"product-info__price\">${item.price}$</p>\r\n            <button class=\"btn btn--plus\"></button>\r\n        </div>\r\n    </div>\r\n    `;\r\n\r\n    parent.appendChild(productCard);\r\n}","\"use strict\";\nstart();"]}
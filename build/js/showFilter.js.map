{"version":3,"sources":["showFilter.js"],"names":["filtersRadioData","value","getBrandName","arrProduct","dataUnique","Map","forEach","item","set","brand","showFilter","flexContainerElem","document","querySelector","navLink","querySelectorAll","addEventListener","selectedCategoryName","event","target","getAttribute","getResource","then","dataArr","createFilter","category","parentElem","filterCheck","remove","filters","type","className","id","parent","filtersElem","createElement","filtersHeader","filtersHeaderElem","filtersTitle","text","filtersContent","filtersContentElem","filtersBlock","filtersBlockElem","filtersBlockTitle","unqieBrandNameArr","chooseFilter","chooseFilterElem","filterInput1","attrs","name","labelFiltr1","forAttr","textFiltr1","filterPrice","filterPriceElem","filterRadio","indexOf","labelFiltrRadio","textFiltrRadio","btnOkContainer","btnOkElem","btnOk","btnSubmitFilter","handleCheckFilter","checkboxSelectedArr","cardsContainer","filterArr","checked","push","data","dataCategory","brandName","radioCheckArr","radio","length","sort","product1","product2","Number","price","reverse","createCards"],"mappings":"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","sourcesContent":["\"use strict\";\n\nconst filtersRadioData = [\n    {value: 'from expensive to cheap'},\n    {value: 'from cheap to expensive'},\n]\n\nfunction getBrandName(arrProduct) {\n    const dataUnique = new Map();\n\n    arrProduct.forEach((item) => dataUnique.set(item.brand,item.brand));\n    return dataUnique;\n}\n\nfunction showFilter() {\n    const flexContainerElem = document.querySelector('.shop__flex-container');\n    const navLink = document.querySelectorAll('.header .nav__link');\n\n    navLink.forEach(item => item.addEventListener('click',() => {\n        const selectedCategoryName = event.target.getAttribute('data-category');\n        getResource(selectedCategoryName)\n            .then(dataArr => createFilter(dataArr, flexContainerElem));\n    }))\n\n    // window.addEventListener(\"DOMContentLoaded\", () => {\n    //     getResource(firstResponse)\n    //         .then(data => createFilter(data, flexContainerElem));\n    // });\n}\n\nfunction createFilter(category, parentElem) {\n    const filterCheck = document.querySelector('.filters');\n    if(filterCheck) {\n        filterCheck.remove();\n    }\n\n    const filters = {\n        type: \"aside\",\n        className: 'filters',\n        id: 'filters',\n        parent: parentElem,\n    }\n    const filtersElem = createElement(filters);\n\n    const  filtersHeader = {\n        type: \"div\",\n        className: 'filters__header',\n        parent: filtersElem,\n    }\n    const filtersHeaderElem = createElement(filtersHeader);\n\n    const filtersTitle = {\n        type: \"h2\",\n        className: 'shop__title',\n        text: 'Filters',\n        parent: filtersHeaderElem,\n    }\n    createElement(filtersTitle);\n\n    const filtersContent = {\n        type: \"div\",\n        className: 'filters__content',\n        parent: filtersElem,\n    }\n    const filtersContentElem = createElement(filtersContent);\n\n    const filtersBlock = {\n        type: \"div\",\n        className: 'filters__block',\n        parent: filtersContentElem,\n    }\n    const filtersBlockElem = createElement(filtersBlock);\n\n    const filtersBlockTitle = {\n        type: \"h2\",\n        text: \"Choose something\",\n        className: 'filters__title',\n        parent: filtersBlockElem,\n    }\n    createElement(filtersBlockTitle);\n\n    //create checkbox\n    const unqieBrandNameArr = getBrandName(category);\n\n    unqieBrandNameArr.forEach(function(item) {\n        const chooseFilter = {\n            type: \"div\",\n            className: 'choose-service__item filters__item',\n            parent: filtersBlockElem,\n        }\n        const chooseFilterElem = createElement(chooseFilter);\n    \n        const filterInput1 = {\n            type: \"input\",\n            attrs: {name: item,type: 'checkbox',},\n            id: item,\n            className: 'choose-service__input',\n            parent: chooseFilterElem,\n        }\n        createElement(filterInput1);\n    \n        const labelFiltr1 = {\n            type: \"label\",\n            forAttr: item,\n            className: 'choose-service__checkbox',\n            parent: chooseFilterElem,\n        }\n        createElement(labelFiltr1);\n    \n        const textFiltr1 = {\n            type: \"label\",\n            forAttr: item,\n            className: 'choose-master__text',\n            text: item,\n            parent: chooseFilterElem,\n        }\n        createElement(textFiltr1);\n    })\n\n    \n    // filter radio title\n    createElement(filtersBlockTitle);\n\n    // filter radio create\n    filtersRadioData.forEach(function(item) {\n        const filterPrice = {\n            type: \"div\",\n            className: 'choose-service__item filters__item',\n            parent: filtersBlockElem,\n        }\n        const filterPriceElem = createElement(filterPrice);\n    \n        const filterRadio = {\n            type: \"input\",\n            attrs: {name: `choose-master__item`,type: 'radio'},\n            id: `filter-${filtersRadioData.indexOf(item)}`,\n            className: 'choose-master__radio',\n            parent: filterPriceElem,\n        }\n        createElement(filterRadio);\n    \n        const labelFiltrRadio = {\n            type: \"label\",\n            forAttr: `filter-${filtersRadioData.indexOf(item)}`,\n            className: 'choose-master__label',\n            parent: filterPriceElem,\n        }\n        createElement(labelFiltrRadio);\n    \n        const textFiltrRadio = {\n            type: \"label\",\n            forAttr: `filter-${filtersRadioData.indexOf(item)}`,\n            className: 'choose-master__text',\n            text: item.value, \n            parent: filterPriceElem,\n        }\n\n        createElement(textFiltrRadio);\n    })\n\n    // btn submit\n    const btnOkContainer = {\n        type: \"div\",\n        className: 'filters__btn-submit', \n        parent: filtersElem,\n    }\n\n    const btnOkElem = createElement(btnOkContainer);\n\n    const btnOk = {\n        type: \"button\",\n        className: 'btn btn--black',\n        id: 'btnShowFilter',\n        text: 'SHOW',\n        parent: btnOkElem,\n    }\n\n    const btnSubmitFilter = createElement(btnOk);\n    btnSubmitFilter.addEventListener('click',handleCheckFilter)\n}\n\nfunction handleCheckFilter() {\n    const checkboxSelectedArr = document.querySelectorAll('.choose-service__input');\n    const parent = document.querySelector(`.shop__flex-container`);\n    \n    const cardsContainer = document.querySelector('.shop__cards');\n    const category = cardsContainer.getAttribute('id');\n\n    const filterArr = [];\n\n    checkboxSelectedArr.forEach((item) => {\n        if(item.checked) {\n            filterArr.push(item.name);\n        }\n    })\n\n    //filter lohika\n    getResource(category)\n        .then(data => {\n            const dataCategory = [];\n\n            data.forEach((item) => {\n                //checkbox\n                filterArr.forEach((brandName) => {\n                    if(item.brand === brandName) {\n                        dataCategory.push(item);\n                    } \n                })\n            })\n\n            // сортировка\n            //filter radio \n            const radioCheckArr = document.querySelectorAll('.choose-master__radio');\n            radioCheckArr.forEach((radio) => {\n                if(radio.checked && radio.id === 'filter-0' ) {\n                    if(dataCategory.length === 0) {\n                    //exp to cheap\n                        data.sort((product1, product2) => Number(product1.price) > Number(product2.price) ? 1 : -1);\n                        data.reverse();\n                        createCards(data, parent, category);\n                    } else {\n                        dataCategory.sort((product1, product2) => Number(product1.price) > Number(product2.price) ? 1 : -1);\n                        dataCategory.reverse();\n                        createCards(dataCategory, parent, category); \n                    }\n\n                } else if(radio.checked && radio.id === 'filter-1') {\n                    //cheap to exp\n                    if(dataCategory.length === 0) {\n                        data.sort((product1, product2) => Number(product1.price) > Number(product2.price) ? 1 : -1);\n                        createCards(data, parent, category); \n                    } else {\n                        dataCategory.sort((product1, product2) => Number(product1.price) > Number(product2.price) ? 1 : -1);\n                        createCards(dataCategory, parent, category);\n                    }                   \n                }\n            })\n        });\n}"],"file":"showFilter.js"}
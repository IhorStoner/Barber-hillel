{"version":3,"sources":["function.js"],"names":["start","parent","document","querySelector","firstResponse","getAttribute","handlerNavLink","showSearch","window","addEventListener","getResource","then","data","createFilter","createCards","link","querySelectorAll","forEach","item","showProducts","e","innerHTML","target","category","arr","checkCards","remove","shopCards","createElement","classList","add","id","appendChild","createCard","productCard","img","name","price","style","width","handlerProductItem","bind","event","tagName","className","selectedProductId","parentNode","selectedProduct","find","element","Number","showDetailInfo","descriptions"],"mappings":"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","sourcesContent":["\"use strict\";\n\nconst start = () => {\n    const parent = document.querySelector(`.shop__flex-container`);\n\n    const firstResponse = document.querySelector(`.header .nav__link`).getAttribute(`data-category`);\n\n    handlerNavLink();\n    showSearch();\n\n    //загрузка бритвы и лезвия как main page \n\n    window.addEventListener(\"DOMContentLoaded\", () => {\n        getResource(firstResponse)\n        .then(data => createFilter(data, parent));\n\n        getResource(firstResponse)\n        .then(data => createCards(data, parent, firstResponse));\n    });\n}\n\n//addEventListener для линков\nconst handlerNavLink = () => {\n    const link = document.querySelectorAll(`.header .nav .nav__link`);\n    link.forEach(item => item.addEventListener(`click`, showProducts))\n};\n\n//показываем продукты\nconst showProducts = (e) => {\n    const parent = document.querySelector(`.shop__flex-container`);\n    parent.innerHTML = ' ';\n\n    const target = e.target;\n    //ищем категорию на которую нажали\n    const category = target.getAttribute(`data-category`);\n    //запрашиваем данные с сервера через category \n    getResource(category)\n        .then(data => {\n            createFilter(data, parent)\n            createCards(data, parent, category)\n        })\n}\n\n//Создаём картки для наших товаров\nconst createCards = (arr, parent, category) => {\n    //удаляем парент при нажатии\n    const checkCards = document.querySelector('.shop__cards');\n    if(checkCards) {\n        checkCards.remove();\n    }\n\n    const shopCards = document.createElement(`div`);\n    shopCards.classList.add(`shop__cards`);\n    shopCards.id = category;\n    parent.appendChild(shopCards);\n\n    arr.forEach(item => {\n        createCard(item, shopCards, arr);\n    });\n}\n\nconst createCard = (item, parent, arr) => {\n\n    const productCard = document.createElement(`div`);\n\n    productCard.classList.add(`product`);\n\n    productCard.innerHTML = `\n\n        <div class=\"product__img-container\" data-id=${item.id}>\n                <img src=\"${item.img}\" alt=\"\" class=\"product__img\">\n        </div>\n        <div class=\"product__content\" data-id=${item.id}>\n                <h3 class=\"product__title\">\n                    ${item.name}\n                </h3>\n                <p class=\"product__price\">\n                    ${item.price}$\n                </p>\n                <div class=\"product__buttons\">\n                    <button class=\"btn btn--black\">Shop now</button>\n                    <button class=\"btn btn--plus\"></button>\n                </div>\n`;\n    parent.appendChild(productCard);\n\n    //исправить !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n    document.querySelectorAll(`.product__img`).forEach(item => { item.style.width = `100%` });\n\n    productCard.addEventListener(`click`, handlerProductItem.bind(null, arr))\n\n}\n\n//нажатие на товар, переход на детальную информацию о товаре\nconst handlerProductItem = (arr, event) => {\n    const target = event.target;\n\n    //handler на элементы которые не будут нас переносить на 2 страницу \n    if (target.tagName === `BUTTON` || target.className === `product` || target.className === `product__img-container` || target.className === `product__content`) {\n        return;\n    }\n\n    const selectedProductId = target.parentNode.getAttribute(`data-id`);\n\n    const selectedProduct = arr.find((element) => {\n        return element.id === Number(selectedProductId);\n    });\n\n    showDetailInfo(selectedProduct);\n}\n\n\n//отображение страници с товаром\nconst showDetailInfo = (item) => {\n\n    document.querySelector(`.shop .wrapper .shop-content .shop__flex-container`).innerHTML = ``;\n    const parent = document.querySelector(`.shop__flex-container`);\n    const productCard = document.createElement(`div`);\n\n    productCard.classList.add(`product-info`);\n\n    productCard.innerHTML = `\n    <div class=\"product-info__img\">\n        <img src=${item.img} alt=\"product img\"/>\n    </div>\n    <div class=\"product-info__info\">\n        <div class=\"product-info__link-container\">\n            <a class=\"product-info__link product-info__link--active\">Описание</a>\n            <a class=\"product-info__link\">Отзывы</a>\n        </div>\n        <div class=\"product-info__title-container\">\n            <h2 class=\"product-info__title\">${item.name}</h2>\n            <p class=\"product-info__description\">${item.descriptions}</p>\n        </div>\n        <div class=\"product-info__price-container\">\n            <p class=\"product-info__price\">${item.price}$</p>\n            <button class=\"btn btn--plus\"></button>\n        </div>\n    </div>\n    `;\n\n    parent.appendChild(productCard);\n}"],"file":"function.js"}